#### 什么是线程？

线程是操作系统能够进行运算调度的最小单位，它被包含在进程之中，是进程中的实际运作单位。程序员可以通过它进行多处理器编程，你可以使用多线程对运算密集型任务提速。

#### 线程和进程有什么区别？

一个进程是一个独立（self contained）的运行环境，它可以被看作一个程序或者一个应用。而线程是在进程中执行的一个任务。线程是进程的子集，一个进程可以有多个线程，每条线程并行执行不同的任务。**不同的进程使用不同的内存空间，而所有的线程共享一片相同的内存空间。**不能把它和栈内存搞混了，每个线程都拥有单独的内存用来存储本地数据。

#### 什么是临界区和竞态条件

竞态条件是在临界区内可能发生的一种特殊情况。临界区是多线程并发执行一代码，根据线程的执行顺序可能产生多种结果的区域。多线程在临界区执行代码的结果可能不一样，不同的结果取决于线程的执行顺序。也就是说，临界区包含竞态条件。竞态一词源于隐喻，线程在临界区进进行资源竞争，在临界区的资源竞争影响最后的结果。

#### 什么是线程安全？

代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期一样，就是线程安全的。一个线程安全的计数器类的同一个实例对象在被 多个线程使用的情况下也不会出现计算失误。

#### 一个线程运行时发生异常会怎样？

如果异常没有被捕获该线程将会停止执行。Thread.UncaughtExceptionHandler 是用于处理未捕获异常造成线程突然中断情况的一个内嵌接口。当一个未捕获 异常将造成线程中断的时候 JVM 会使用 Thread.getUncaughtExceptionHandler() 来查询线程的 UncaughtExceptionHandler 并将线程和异常作为参数传递给 handler 的 uncaughtException() 方法进行处理。

#### 如何在两个线程间共享数据？

你可以通过共享对象来实现这个目的，或者是使用像阻塞队列这样并发的数据结构。

#### 什么是 FutureTask？

在 Java 并发程序中，FutureTask表示一个可以取消的异步运算。它有启动和取消运算、查询运算是否完成和取回运算结果等方法。只有当运算完成的时候结果才能取回，如果运算尚未不完成，get() 方法将会阻塞。一个 FutureTask 对象可以对调用了 Callable 和 Runnable 的对象进行包装，由于 FutureTask也是调用了 Runnable 接口，所以提交给 Executor 来执行。

#### 什么是线程池？它的优点是什么？

创建线程要花费昂贵的资源和时间，如果任务来了才创建线程那么响应时间会变长，而且一个进程能创建的线程数有限。为了避免这些问题，在程序启动的时候就创建若干线程来响应处理，它们被称为线程池，里面的线程叫工作线程。从 JDK1.5 开始，Java API 提供了 Executor 框架让你可以创建不同的线程池。比如单线程池，每次处理一个任务；数目固定的线程池或者是缓存线程池（一个适合很多生存期短的任务的程序的可扩展线程池）。

#### 如何写代码来解决生产都消费者问题？

在现实中你解决的许多线程问题都属于生产者消费者模型，就是一个线程生产任务代其它线程进行消费，你必须知道怎么进行线程间通信来解决这个问题。比较低级的办法是用 wait() 和 notify() 来解决这个问题，比较赞的办法是用 Semaphore 或者 BlockingQueue 来实现生产者消费者模型。

#### 什么是死锁？

死锁同是批两个或两个以上的进程在执行过程中，因争夺资源而造成的一种互相等待的现象，若无外力作用，它们都将无法推进下去。这是一个严重的问题，因为死锁会让你的程序挂起无法完成任务

#### 死锁发生的条件

1. 互斥条件：一个资源每次只能被一个进程使用
2. 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不剥夺条件：进程已获得的资源，在未使用完之前，不能强行剥夺。
4. 循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系

避免死锁最简单的方法就是阻止循环等待条件，将系统中所有的资源设置标志位、排序，规定所有的线程申请资源必须以一定的顺序（升序或降序）做操作来避免死锁。

#### Java 中活锁和死锁有什么区别？

活锁的线程或进程的状态是不断改变的，鋈没可以认为是一种特殊的饥饿。一个现实的

```flow
new=>operation: 新的线程
start=>operation: 运行
suspend=>operation: 暂停
destroy=>operation: 销毁

new->start->suspend->destroy
suspend->start

```