# Java面试题汇总

## Java基础

### 线程

#### 1、什么是线程

线程是操作系统能够进行运算高度的最小单位，它被包含在进程之中，是进程中的实际动作单位。程序员可以通过它编写并行程序。

#### 2、线程和进程有什么区别

线程是进程的子集，一个进程可以有很多线程，每条线程并行执行不同的任务。不同的进程使用不同的内存空间，而所有的线程共享一片相同的内存空间。别把它和栈内存搞混，每个线程都拥有单独的栈内存用来存储本地数据。

#### 3、如何在Java中实现线程

在语言层面有两种方式。java.lang.Thread 类的实例就是一个线程但是它需要调用 java.lang.Runnable 接口来执行，由于线程类本身就是调用的 Runnable 接口所以你可以继承 java.lang.Thread 类或者直接调用 Runnable 接口来重写 run() 方法实现线程。

#### 4、用 Runnable 还是 Thread

这个问题是上题的后续，大家都知道我们可以通过继承 Thread 类或者调用 Runnable 接口来实现线程。但 Java 不支持类的多重继承，但允许你调用多个接口。所以如果你要继承其他类，当然是调用 Runnable 接口好了。

#### 5、Thread 类中的 start 和 run 方法有什么区别

start 方法被用来启动新创建的线程，而且 start 内部调用了 run 方法。直接调用 run 方法，只会是在原来的线程中调用，没有亲的线程启动，只是普通的方法调用。

#### 6、Java中的 Runnable 和 Callable 有什么不同

Runnable 和 Callable 都代表那些要在不同的线程中执行的任务。Runnable 从 JDK1.0 开始就有了，Callable 是在 JDK1.5 增加的。它们的主要区别是 Callable 的 call 方法可以返回值和抛出异常，而 Runnable 的 run 方法没有这些功能。Callable 可以返回装载有计算结果的 Future 对象。

#### 7、Java中的 volatile 变量是什么意思

volatile 是一个特殊的修饰符，只有成员变量才能使用它。在 Java 并发程序缺少同步类的情况下，多线程对成员变量的操作对其它线程是透明的。 volatile 变量可以保证下一个读取操作会在前一个写操作之后发生。

#### 8、什么是线程安全？Vector是一个线程安全类吗

如果代码所在的进程中有多个线程在同时运行，而这些线程可能 会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。一个线程安全的计数器类的同一个实例对象在被多个线使用的情况下也不会出现计算失误。

#### 9、Java中什么是竞态条件？举个例子

竞态条件会导致程序在并发买一次下出现一些 bug 。多线程对一些资源的竞争的时候应付产生状态条件，如果首先要执行的程序竞争失败排到后面执行了，那么整个程序就会出现一些不确定的 bug 。这种 bug 很难发现而且会重复出现，因为线程间的随机竞争。

#### 10、Java中如何停止一个线程

Java提供了很丰富的 API 但没有为停止线程提供 API。JDK1.0 本来有一些像 stop, suspend 和 resume 的控制方法，但是由于潜在的死锁威胁，因此在后续的 JDK 版本中他们被弃用了，之后 Java API 的设计者就没有提供一个兼容且线程安全的方法来停止一个线程。当 run 或者 call 方法执行完的时候线程会自动结束，如果手动结束一个线程，你可以用 volatile 布尔变量来退出 run 方法的循环或者是取消任务来中断线程。

#### 11、一个线程运行时发生异常会怎样


